<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Simple Polylines</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyAXm4i-f_G5gFL-8YvXCFXUt_MMhbhGV2M&sensor=false"></script>
    <script>
// This example creates a 2-pixel-wide red polyline showing
// the path of William Kingsford Smith's first trans-Pacific flight between
// Oakland, CA, and Brisbane, Australia.

var polylineArray=[];
var cc_nmoca;
var map ;
var polyLineCount=0;

//Use as an 2d array
var cc_nmoca_LegRoutes = [[new google.maps.LatLng(38.92505,-94.728167),new google.maps.LatLng(38.924717,-94.72815)],
         [new google.maps.LatLng(38.924717,-94.72815),new google.maps.LatLng(38.924583,-94.727983)],
         [new google.maps.LatLng(38.924583,-94.727983),new google.maps.LatLng(38.92465,-94.7279)],
         [new google.maps.LatLng(38.92465,-94.7279),new google.maps.LatLng(38.9247,-94.727767)],
         [new google.maps.LatLng(38.9247,-94.727767),new google.maps.LatLng(38.924717,-94.7276)],
         [new google.maps.LatLng(38.924717,-94.7276),new google.maps.LatLng(38.924683,-94.727433)],
         [new google.maps.LatLng(38.924683,-94.727433),new google.maps.LatLng(38.924683,-94.727217)],
         [new google.maps.LatLng(38.924683,-94.727217),new google.maps.LatLng(38.924617,-94.727217)],
         [new google.maps.LatLng(38.924617,-94.727217),new google.maps.LatLng(38.924617,-94.727133)]
         ];



function initialize() {
  var mapOptions = {
    zoom: 17,
    center: new google.maps.LatLng(38.9248956, -94.72700000),
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };

      map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);



    cc_nmoca = [
    new google.maps.LatLng(38.92505,-94.728167),
    new google.maps.LatLng(38.924717,-94.72815),
    new google.maps.LatLng(38.924583,-94.727983),
    new google.maps.LatLng(38.92465,-94.7279),
    new google.maps.LatLng(38.9247,-94.727767),
    new google.maps.LatLng(38.924717,-94.7276),
    new google.maps.LatLng(38.924683,-94.727433), //Point before RC Center
    new google.maps.LatLng(38.924683,-94.727433),
    new google.maps.LatLng(38.924683,-94.727217),
    new google.maps.LatLng(38.924617,-94.727217),
    new google.maps.LatLng(38.924617,-94.727133)
  ];


    
  
 /*
  var allRoute = [
    new google.maps.Polyline({
    path: cc_nmoca,
    strokeColor: '#FF0000',
    strokeWeight: 4
  })
  ];

  

  allRoute[0].setMap(map);

  */



  //drawRoute(cc_rc);
  //drawRoute(cc_nmoca);
  //tester(h);
}

google.maps.event.addDomListener(window, 'load', initialize);

function drawRoute(pathArray){

  alert('Start|Initial polyline length is '+polylineArray.length);
  for(var x=0;x<polylineArray+1;x++)
  {
    alert('Second Inside|polyline arry is length of '+x);

    polylineArray.push(new google.maps.Polyline({
    path: pathArray,
    strokeColor: '#FF0000',
    strokeWeight: 4
    })
    );
  }

  alert('Third out|Number in path array is '+pathArray.length+' '+'Polyline count is '+polylineArray.length);
  
  polylineArray[polyLineCount].setMap(map);
  polyLineCount++;  

  }

  function tester(pathArray){
    //array comes in length of 9

    for(var h=0;h<pathArray.length;h++)
    {
      alert((h+1)+' '+pathArray[h]);
      //polylineArray[h].setMap(map);

       polylineArray.push(new google.maps.Polyline(
          {
            path: pathArray[h],
            strokeColor: '#FF0000',
            strokeWeight: 4
          }
        ));
      polylineArray[h].setMap(map);

    }

    
    

  }

  function test(pathArray){
      polylineArray.push(new google.maps.Polyline(
          {
            path: pathArray[polyLineCount],
            strokeColor: '#FF0000',
            strokeWeight: 4
          }
        ));
      polylineArray[polyLineCount].setMap(map);
      polyLineCount++;
    }

  function removeRoute(){
    
    polylineArray[polylineArray.length-1].setMap(null);
    polylineArray.pop();
    polyLineCount--;
  }

    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
    <input type="submit" value="Next Leg" onclick="test(cc_nmoca_LegRoutes);">
    <input type="submit" value="Back " onclick="removeRoute();">
  </body>
</html>
